# 报告异常处理页面设计文档

- 仅描述内容区，侧导航和顶标题均使用通用组件
- 需要加载侧导航和顶标题

## 1. 页面整体布局

### 1.1 页面结构

- 查询条件区：顶部卡片，可展开收起，包含多维度检索条件
- 功能按钮区：查询条件下方，包含主要操作按钮
- 数据列表区：主要内容区域，显示报告异常列表
- 分页控件：底部，包含分页信息和每页条数选择
- 报告预览页面：点击列表区域的报告编号进入，详见.trae\详细页面设计\1.3.1报告预览页面设计.md

## 2. 查询条件区设计

### 2.1 查询条件样式

- 位置：内容区最上方容器，和功能按钮区在同一个大的容器中的上方
- 展开/收起：图标位于查询条件区右下，支持展开收起查询条件，默认收起，至少展示第一行
- 内容
  - 文本：描述查询内容
  - 查询框：文本输入框、单选下拉框、日期选择器、多选下拉框
- 布局：采用自适应布局，宽度最小40px，每行最多四个查询条件，超过了换行

### 2.2 查询条件字段

#### 报告编号
- 文本：报告编号
- 查询框类型：文本输入框
- 占位符：多个报告号用英文逗号分隔
- 支持格式：多个报告号用英文逗号拼接查询，精确查询

#### 异常类型
- 文本：异常类型
- 查询框类型：多选下拉框
- 选项：内容错误、格式错误、生成失败、数据缺失、其他
- 默认状态：请选择
- 交互：支持搜索选择

#### 异常状态
- 文本：异常状态
- 查询框类型：多选下拉框
- 选项：待处理、处理中、已解决、已关闭
- 默认状态：全选
- 交互：支持全选/取消全选

#### 处理人
- 文本：处理人
- 查询框类型：下拉选择框
- 占位符：请选择处理人
- 查询方式：支持搜索选择

#### 处理时间范围
- 文本：处理时间范围
- 查询框类型：日期时间范围选择器
- 格式：yyyy-MM-dd HH:mm:ss
- 时区：UTC+8

## 3. 功能按钮区设计

### 3.1 功能按钮区样式

- 位置：内容区最上方容器，和查询条件区在同一个大的容器中的下方
- 展开/收起：无展开折叠
- 内容
  - 文本：描述按钮显示内容
- 布局：采用自适应布局，每行最多八个按钮，宽度最小24px，超过了换行
- 按钮位置：
  - 左侧，按从左到右顺序：处理异常、查看详情、导出
  - 右侧，按从右到左顺序：重置、查询

### 3.2 按钮字段

#### 处理异常按钮
- 文字：处理异常
- 启用条件：必须至少勾选一个且所选均为“待处理”或“处理中”
- 禁用状态：置灰显示
- 禁用提示：请选择待处理或处理中异常
- 功能：打开异常处理弹窗
- 异常处理弹窗规格：
  - 标题：处理异常
  - 字段：处理结果（单选：已解决/转他人/挂起）、处理说明（文本域，必填，最大500字符）、附件（可选，最多5个）
  - 按钮：提交、关闭

#### 查看详情按钮
- 文字：查看详情
- 启用条件：必须且只能勾选一个
- 禁用状态：置灰显示
- 禁用提示：请选择一个异常记录
- 功能：打开异常详情弹窗，展示异常基本信息、处理记录

#### 导出按钮
- 文字：导出
- 功能：导出当前查询结果的Excel报表

#### 查询按钮
- 文字：查询
- 功能：按查询条件查询异常

#### 重置按钮
- 文字：重置
- 功能：重置为默认值并进行一次查询

## 4. 数据列表区设计

### 4.1 数据列表区样式
- 表格宽度：默认48px，允许用户手动调整宽度
- 文本对齐方式：居中
- 排序：支持点击表头排序
- 固定列：左侧复选框和报告编号固定
- 横向滚动：字段较多时支持横向滚动

### 4.2 数据列表区字段设计

#### 复选框
- 功能：标题行支持全选/取消全选，支持单行选择

#### 异常编号
- 文本：异常编号
- 功能：唯一标识

#### 报告编号
- 文本：报告编号
- 功能：点击查看报告预览

#### 异常类型
- 文本：异常类型

#### 异常描述
- 文本：异常描述
- 溢出处理：超出部分显示...
- 悬停提示：显示完整描述

#### 异常状态
- 文本：异常状态

#### 创建时间
- 文本：创建时间
- 格式：yyyy-MM-dd HH:mm:ss（UTC+8）

#### 处理人
- 文本：处理人

#### 处理时间
- 文本：处理时间
- 格式：yyyy-MM-dd HH:mm:ss（UTC+8）

## 5. 分页控件设计

### 5.1 分页控件样式
- 位置：内容区下方左侧

### 5.2 分页控件字段
- 第一页：双左箭头图标
- 上一页：左箭头图标
- 页码输入：可输入页码，Enter 跳转
- 下一页：右箭头图标
- 末页：双右箭头图标
- 总条数：显示"共 {total} 条"
- 当前页：显示"第 {current} 页"
- 每页条数：下拉框，选项：10、20、50、100
