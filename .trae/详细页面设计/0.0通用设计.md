# 通用设计

- **该文档下所有组件为全局通用组件** 

## 1. 修改密码弹窗

### 1.1 修改密码弹窗页面样式

- **位置**：整个页面置中，在侧导航、顶标题栏、内容区上方，模态置灰
- **组件**：分成3个部分，分别是弹窗标题区，内容区，按钮区
- **布局**：采用自适应布局，宽度最小40px，每行最多1个字段
- **标题**：修改密码，位于弹窗左顶部，和关闭按钮水平

### 1.2 修改密码弹窗页面字段

- **请输入旧密码**：输入框，用于输入用户当前密码；校验当前密码是否正确，错误提示"当前密码错误"，校验优先级1
- **请输入新密码**：输入框，用于输入用户新密码；校验新密码是否符合要求，错误提示"新密码格式错误"，校验优先级2
- **请确认新密码**：输入框，用于确认用户新密码；校验是否与新密码一致，错误提示"两次输入密码不一致"，校验优先级3

### 1.3 修改密码弹窗页面按钮

- **确定**：按钮，用于提交修改密码请求；校验所有字段是否符合要求，符合则提交请求，不符合则提示错误信息，更新对应数据表，然后退出登录
- **取消**：按钮，用于关闭弹窗；不校验任何字段，直接关闭弹窗

## 2. 审批弹窗

### 2.1 审批通用规则

- **审批单编号**：生成审批单号，格式为：审批类型+日期+随机数，例如：JZ202308010001，全局唯一，新建审批时生成
- **审批状态说明**
    - 申请人提交后：状态为"待审批"
    - 申请人操作撤回后：状态为"已撤回"
    - 审批人操作通过后，若有下一个审批人：状态为"待审批"
    - 审批人操作通过后，若没有下一个审批人：状态为"已通过"
    - 审批人操作驳回后：状态为"已驳回"

### 2.2 加急审批

#### 2.2.1 加急审批-申请人视图

- **审批流程**：使用审批配置中的加急流程
- **加急审批弹窗规格**： 
  - 页面布局：由5部分组件组成，从上到下依次是标题、审批单信息、订单信息、申请详情和按钮
  - 标题：显示"加急审批"（弹窗左上）；关闭（弹窗右上icon）
  - 审批单信息：
    - 样式：审批单信息:{审批单编号}
    - 位置：审批单组件左侧
  - 订单信息，列表样式，表头：订单编号、样本编号、产品名称
    - 订单编号：显示根据已选的订单编号拼接，多个订单编号分行展示
    - 样本编号：显示根据已选的订单编号展示对应的样本号，如果一个订单有多个样本编号用英文,拼接
    - 产品名称：显示根据已选的订单编号展示对应的产品名称，如果一个订单有多个产品名称用英文,拼接
  - 申请详情：
    - 加急类型：单选下拉选项，可选：病理原因；VIP；增值服务；其他，必填
    - 申请原因：文本输入框，显示"请输入申请原因"（申请详情组件左侧下），非必填
  - 按钮：弹窗底部，提交（弹窗右下）

#### 2.2.2 加急审批-审批人视图

- **审批弹窗规格**： 
  - 页面布局：由6部分组件组成，从上到下依次是标题、审批单信息、订单信息、申请详情、审批详情和按钮
  - 标题：显示"审批"（弹窗左上）；关闭（弹窗右上icon）
  - 审批单信息：
    - 样式：审批单信息:{审批单编号}
    - 位置：审批单组件左侧
  - 订单信息，列表样式，表头：订单编号、样本编号、产品名称
    - 订单编号：显示根据已选的订单编号拼接，多个订单编号分行展示
    - 样本编号：显示根据已选的订单编号展示对应的样本号，如果一个订单有多个样本编号用英文,拼接
    - 产品名称：显示根据已选的订单编号展示对应的产品名称，如果一个订单有多个产品名称用英文,拼接
  - 申请详情：
    - 加急类型：文本框，不可编辑
    - 申请原因：文本框，不可编辑
  - 审批详情：
    - 审批备注：文本输入框，必填
  - 按钮：弹窗底部，通过（弹窗左下），驳回（弹窗右下）

### 2.3 库存采购审批

#### 2.3.1 库存采购审批-申请人视图

- **审批流程**：使用审批配置中的库存采购申请流程
- **采购申请审批弹窗规格**： 
  - 页面布局：由5部分组件组成，从上到下依次是标题、审批单信息、申请详情、审批详情和按钮
  - 标题：显示"库存采购申请"（弹窗左上）；关闭（弹窗右上icon）
  - 审批单信息：
    - 样式：审批单信息:{审批单编号}
    - 位置：审批单组件左侧
  - 申请详情：
    - 物料名称：文本输入框，显示"请输入物料名称"（申请详情组件左侧上），必填
    - 数量：数字输入框，显示"请输入数量"（申请详情组件左侧中），必填
    - 申请原因：文本输入框，显示"请输入申请原因"（申请详情组件左侧下），非必填
  - 按钮：弹窗底部，提交（弹窗右下）

#### 2.3.2 库存采购审批-审批人视图

- **审批流程**：使用审批配置中的库存采购申请流程
- **采购申请审批弹窗规格**： 
  - 页面布局：由4部分组件组成，从上到下依次是标题、审批单信息、申请详情和按钮
  - 标题：显示"库存采购申请"（弹窗左上）；关闭（弹窗右上icon）
  - 审批单信息：
    - 样式：审批单信息:{审批单编号}
    - 位置：审批单组件左侧
  - 申请详情：
    - 物料名称：文本框，不可编辑
    - 数量：数字框，不可编辑
    - 申请原因：文本框，不可编辑
  - 审批详情：
    - 审批备注：文本输入框，必填
  - 按钮：弹窗底部，通过（弹窗左下），驳回（弹窗右下）